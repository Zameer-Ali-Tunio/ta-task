<div class="history-container">
  <mat-card class="history-card">
    <mat-card-header class="history-header">
      <mat-card-title>
        <mat-icon>history</mat-icon>
        Conversion History
      </mat-card-title>
      <button
        mat-icon-button
        *ngIf="history.length > 0"
        (click)="clearHistory()"
        aria-label="Clear history"
        color="warn"
      >
        <mat-icon>delete_sweep</mat-icon>
      </button>
    </mat-card-header>
    <mat-card-content>
      <div class="empty-state" *ngIf="history.length === 0">
        <mat-icon class="empty-icon">history</mat-icon>
        <p>No conversion history yet</p>
        <p class="hint">Your conversions will appear here</p>
      </div>

      <mat-list *ngIf="history.length > 0" class="history-list">
        <mat-list-item *ngFor="let item of history" class="history-item">
          <div class="history-item-content">
            <div class="history-main">
              <div class="conversion-amounts">
                <span class="from-amount">{{ item.amount | number: '1.2-2' }}</span>
                <span class="currency-codes">{{ item.fromCurrency }}</span>
                <mat-icon class="arrow-icon">arrow_forward</mat-icon>
                <span class="to-amount">{{ item.convertedAmount | number: '1.2-2' }}</span>
                <span class="currency-codes">{{ item.toCurrency }}</span>
              </div>
              <div class="history-meta">
                <mat-chip *ngIf="item.isHistorical" class="historical-chip">
                  <mat-icon>calendar_today</mat-icon>
                  Historical: {{ item.historicalDate }}
                </mat-chip>
                <span class="timestamp">{{ formatDate(item.timestamp) }}</span>
              </div>
            </div>
            <div class="exchange-rate-info">
              Rate: 1 {{ item.fromCurrency }} = {{ item.rate | number: '1.2-6' }}
              {{ item.toCurrency }}
            </div>
          </div>
          <mat-divider></mat-divider>
        </mat-list-item>
      </mat-list>
    </mat-card-content>
  </mat-card>
</div>
